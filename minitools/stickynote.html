<!DOCTYPE html><html><meta charset="UTF-8"><head><title>Sticky Notes</title><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<script src="stickynotes.js"></script>
<script>var drag={draggingElement:null,startMouse:null,startElement:null,start:function(t,e){this.draggingElement=t,this.startMouse=[e.screenX,e.screenY],this.startElement=[$(t).position().left,$(t).position().top],console.log(this.startElement),$(t).addClass("dragging"),bringToTop(t)},update:function(t,e){if(null!==this.draggingElement){var s=$(this.draggingElement),n=[e.screenX-this.startMouse[0],e.screenY-this.startMouse[1]],i=[this.startElement[0]+n[0],this.startElement[1]+n[1]];s.css({left:i[0]+"px",top:i[1]+"px"})}},end:function(){if(null!==this.draggingElement){$(this.draggingElement).removeClass("dragging");var t=[parseFloat($(this.draggingElement).css("left")),parseFloat($(this.draggingElement).css("top"))];notes.updateLocation(this.draggingElement.dataset.id,t),this.draggingElement=null,this.startMouse=null,this.startElement=null}}};
function updateEventListeners(){console.log("Updating"),$(".note .header").off("mousedown"),$("body").off("mouseup","mousemove"),$(".note .button.delete").off("click","mousedown"),$(".note .content").off("DOMSubtreeModified"),$(".note .button.up, .note .button.down").off("click"),$(window).off("resize"),$(".note .button.up").click(function(){notes.moveUp(this.parentElement.parentElement.dataset.id)}),$(".note .button.down").click(function(){notes.moveDown(this.parentElement.parentElement.dataset.id)}),$(".note .content").bind("DOMSubtreeModified",function(){var e=this.innerHTML,t=this.parentElement.dataset.id;notes.updateContent(t,e)}),$(".note .button.delete").mousedown(function(){event.stopPropagation()}),$(".note .button.delete").click(function(){event.stopPropagation(),notes.deleteNote(this.parentElement.parentElement.dataset.id),$(this.parentElement.parentElement).addClass("deleting"),setTimeout(function(){$(".note.deleting").remove()},50)}),$(window).resize(function(){updateEventListeners()}),$(window).width()>1e3&&($(".note .header").mousedown(function(){drag.start(this.parentElement,event)}),$("body").mouseup(function(){drag.end()}),$("body").mousemove(function(){drag.update(this,event)}))}function bringToTop(e){return $(e).css("z-index",window.currentTopZ),window.currentTopZ++,!0}function makeid(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}window.currentTopZ=1,$(document).ready(function(){notes.loadSave(),updateEventListeners()});
var notes={notes:{},loadSave:function(){var t=JSON.parse(window.localStorage.getItem("notes"));this.notes=null==t?{SOgtBVpq:{content:'Sticky Note Application<div>---</div><div>By: NanJi (<a href="https://ttti.cc" target="_blank">https://ttti.cc</a>)</div><div>这些是示例便签</div>',location:[22,21]},ODzGifFC:{content:"Create your own sticky note by clicking the button in the top right corner",location:[339,152]},UeNIbNvb:{content:"Feel free to modify the code and improve the application!",location:[658,260]}}:t,this.drawNotes()},drawNotes:function(){var t="";for(var e in this.notes)this.notes[e].location[0]=Math.min($(window).width()-300,this.notes[e].location[0]),this.notes[e].location[1]=Math.min($(window).height()-30,this.notes[e].location[1]),t+='<div class="note" style="left: '+this.notes[e].location[0]+"px; top: "+this.notes[e].location[1]+'px" data-id="'+e+'"><div class="header"><div class="button icon delete"></div><div class="button icon up right"></div><div class="button icon down right"></div></div><div class="content" contenteditable>'+this.notes[e].content+"</div></div>";$("#wall").html(t),updateEventListeners()},createNew:function(t){$(".note.new").removeClass("new");var e=$("#wall").html(),n=makeid(),o=$(window).height()/2-150,i=$(window).width()/2-150;e+='<div class="note new" style="left: '+i+"px; top: "+o+'px" data-id="'+n+'"><div class="header"><div class="button icon delete"></div><div class="button icon up right"></div><div class="button icon down right"></div></div><div class="content" contenteditable>'+t+"</div></div>",this.notes[n]={content:t,location:[i,o]},$("#wall").html(e),$(window).width()>1e3&&bringToTop($('.note[data-id="'+n+'"')),updateEventListeners(),this.saveNotes()},deleteNote:function(t){return delete this.notes[t],this.saveNotes(),!0},updateLocation:function(t,e){return this.notes[t].location=e,this.saveNotes(),!0},updateContent:function(t,e){return this.notes[t].content=e,this.saveNotes(),"debug"==e&&alert(JSON.stringify(this.notes)),!0},saveNotes:function(){return window.localStorage.setItem("notes",JSON.stringify(this.notes)),!0},moveUp:function(t){var e=[],n=null,o=0;for(var i in this.notes)e.push(i),i==t&&(n=o),o++;if(0!==n){var s=e[n-1];e[n-1]=t,e[n]=s}var a={};for(x=0;x<e.length;x++)a[e[x]]=this.notes[e[x]];return this.notes=a,this.drawNotes(),this.saveNotes(),!0},moveDown:function(t){var e=[],n=null,o=0;for(var i in this.notes)e.push(i),i==t&&(n=o),o++;if(n!==e.length-1){var s=e[n+1];e[n+1]=t,e[n]=s}var a={};for(x=0;x<e.length;x++)a[e[x]]=this.notes[e[x]];return this.notes=a,this.drawNotes(),this.saveNotes(),!0}};</script><style>#interface,#wall{left:0;position:absolute}#interface,#wall,#wall .note{position:absolute}body{margin:0;padding:0}.icon{background-size:contain;background-repeat:no-repeat;background-position:center}#interface{width:100%;overflow:visible;top:0;z-index:99999999999999}#interface .button{position:absolute;top:50px;right:20px;height:50px;width:50px;border-radius:50px;background-size:25px;background-color:#454545;cursor:pointer;transition:.2s ease}#interface .button:hover{background-color:#000}#wall{top:1.5em;height:97%;width:100%;overflow:hidden;z-index:0}@keyframes popup{0%{transform:scale(0)},100%{transform:scale(1)}}#wall .note.new{animation-fill-mode:forwards;animation-name:popup;animation-duration:50ms}#wall .note{display:block;width:300px;color:#eee;background-color:#333;box-shadow:2px 2px 5px #ccc;border:.5px solid #000}#wall .note.deleting{transform:scale(0)}#wall .note .header{padding:8px;display:block;background-color:#454545;cursor:move}#wall .note .content{padding:8px;min-height:50px;user-select:none;outline:0}#wall .note:not(.dragging) .content{cursor:text}#wall .note.dragging:not(.deleting){box-shadow:0 8px 12px rgba(0,0,0,.23);transform:scale(1.03)}#wall .note .header .button{display:inline-block;width:15px;height:15px;margin-right:5px;vertical-align:top;opacity:.4;transition:.2s ease;cursor:pointer}#wall .note .header .button.right{display:none}#wall .note .header .button:hover{opacity:1}.icon.delete{background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDQ1OSA0NTkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ1OSA0NTk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iZGVsZXRlIj4KCQk8cGF0aCBkPSJNNzYuNSw0MDhjMCwyOC4wNSwyMi45NSw1MSw1MSw1MWgyMDRjMjguMDUsMCw1MS0yMi45NSw1MS01MVYxMDJoLTMwNlY0MDh6IE00MDgsMjUuNWgtODkuMjVMMjkzLjI1LDBoLTEyNy41bC0yNS41LDI1LjUgICAgSDUxdjUxaDM1N1YyNS41eiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.icon.plus{background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQyIDQyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MiA0MjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxMjhweCIgaGVpZ2h0PSIxMjhweCI+Cjxwb2x5Z29uIHBvaW50cz0iNDIsMjAgMjIsMjAgMjIsMCAyMCwwIDIwLDIwIDAsMjAgMCwyMiAyMCwyMiAyMCw0MiAyMiw0MiAyMiwyMiA0MiwyMiAiIGZpbGw9IiNGRkZGRkYiLz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==)}.icon.up{background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI5Mi4zNjIgMjkyLjM2MSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjkyLjM2MiAyOTIuMzYxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTI4Ni45MzUsMTk3LjI4N0wxNTkuMDI4LDY5LjM4MWMtMy42MTMtMy42MTctNy44OTUtNS40MjQtMTIuODQ3LTUuNDI0cy05LjIzMywxLjgwNy0xMi44NSw1LjQyNEw1LjQyNCwxOTcuMjg3ICAgQzEuODA3LDIwMC45MDQsMCwyMDUuMTg2LDAsMjEwLjEzNHMxLjgwNyw5LjIzMyw1LjQyNCwxMi44NDdjMy42MjEsMy42MTcsNy45MDIsNS40MjUsMTIuODUsNS40MjVoMjU1LjgxMyAgIGM0Ljk0OSwwLDkuMjMzLTEuODA4LDEyLjg0OC01LjQyNWMzLjYxMy0zLjYxMyw1LjQyNy03Ljg5OCw1LjQyNy0xMi44NDdTMjkwLjU0OCwyMDAuOTA0LDI4Ni45MzUsMTk3LjI4N3oiIGZpbGw9IiNGRkZGRkYiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K)}.icon.down{background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI5Mi4zNjIgMjkyLjM2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjkyLjM2MiAyOTIuMzYyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTI4Ni45MzUsNjkuMzc3Yy0zLjYxNC0zLjYxNy03Ljg5OC01LjQyNC0xMi44NDgtNS40MjRIMTguMjc0Yy00Ljk1MiwwLTkuMjMzLDEuODA3LTEyLjg1LDUuNDI0ICAgQzEuODA3LDcyLjk5OCwwLDc3LjI3OSwwLDgyLjIyOGMwLDQuOTQ4LDEuODA3LDkuMjI5LDUuNDI0LDEyLjg0N2wxMjcuOTA3LDEyNy45MDdjMy42MjEsMy42MTcsNy45MDIsNS40MjgsMTIuODUsNS40MjggICBzOS4yMzMtMS44MTEsMTIuODQ3LTUuNDI4TDI4Ni45MzUsOTUuMDc0YzMuNjEzLTMuNjE3LDUuNDI3LTcuODk4LDUuNDI3LTEyLjg0N0MyOTIuMzYyLDc3LjI3OSwyOTAuNTQ4LDcyLjk5OCwyODYuOTM1LDY5LjM3N3oiIGZpbGw9IiNGRkZGRkYiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K)}@media screen and (max-width:1000px){#interface{top:auto;bottom:0}#interface .button{bottom:5px;top:auto;left:5px;width:calc(100% - 10px);border-radius:5px}#wall{height:calc(100% - 70px);overflow-y:auto}#wall .note .header{padding:0}#wall .note{position:initial;margin:5px;display:block;width:calc(100% - 10px)}#wall .note .header .button{background-size:20px;padding:8px;height:20px;width:20px}#wall .note .header .button.right{float:right;display:block}}nav{position:fixed;padding:.1em .5em;top:5px;left:0;width:100%;background:#fff;box-shadow:1px 1px 3px #ccc}a{text-decoration:none;color:#666}</style>
<nav><a href="../so.html">Home</a> | <a href="todolist.html">To-Do</a></nav><!-- Interface overlay with add button（带有添加按钮的接口覆盖）-->
<div id="interface"><div class="button icon plus" onclick="notes.createNew('New note')"></div> </div><!-- Note wall （Note wall）--><div id="wall"></div></body></html>